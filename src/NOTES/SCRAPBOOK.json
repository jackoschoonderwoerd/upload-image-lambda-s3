TEST 1:

{
    "order": {"article": "koffie", "name": "robusta"},
    "klant": {"name": "jacko"}
}

TEST 2:

{
    "order": [
        {"article": "koffie","name": "robusta"},
        {"article": "koffie","name": "arabica"}
    ],
    "klant": {"name": "jacko", "pickupTime": "9:30"}
}

MODEL (VALIDATE BODY):

{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "title": "finalOrder",
    "type": "object",
    "properties": {
        "order": {
            "type": "array"
        },
        "klant": {
            "type": "object"
        }
    },
    "required": ["order", "klant"]
}

{
    "$schema": "http://json-schema.org/draft-04/schema#",
      "title": "finalOrder",
      "type": "object",
      "properties": {
          "order": {
              "type": "array"
          },
          "orderInfo": {
              "type": "object"
          },
          "totaalPrijs": {
              "type": "number"
          }
      },
      "required": ["order"]
  }

INTEGRATION RESPONSE:

{
    "order": $input.json("$.order"),
    "klant": $input.json("$.klant")
}

INTEGRATION REQUEST: 

{
    "order": $input.json("$.order"),
    "orderInfo": $input.json("$.orderInfo"),
    "name": $input.json("$.orderInfo.name"),
    "phone": $input.json("$.orderInfo.phone"),
    "pickupDate": $input.json("$.orderInfo.pickupDate"),
    "pickupTime": $input.json("$.orderInfo.pickupTime"),
    "totalPrice": $input.json("$.totalPrice")
}